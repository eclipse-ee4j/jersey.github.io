<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Tue May 16 13:40:10 UTC 2023 -->
<title>ApacheConnectionClosingStrategy (Jersey 3.1.2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-05-16">
<meta name="description" content="declaration: package: org.glassfish.jersey.apache.connector, interface: ApacheConnectionClosingStrategy">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ApacheConnectionClosingStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.glassfish.jersey.apache.connector</a></div>
<h1 title="Interface ApacheConnectionClosingStrategy" class="title">Interface ApacheConnectionClosingStrategy</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="ApacheConnectionClosingStrategy.GracefulClosingStrategy.html" title="class in org.glassfish.jersey.apache.connector">ApacheConnectionClosingStrategy.GracefulClosingStrategy</a></code>, <code><a href="ApacheConnectionClosingStrategy.ImmediateClosingStrategy.html" title="class in org.glassfish.jersey.apache.connector">ApacheConnectionClosingStrategy.ImmediateClosingStrategy</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ApacheConnectionClosingStrategy</span></div>
<div class="block">/**
 Strategy that defines the way the Apache client releases resources. The client enables closing the content stream
 and the response. From the Apache documentation:
 <pre>
     The difference between closing the content stream and closing the response is that
     the former will attempt to keep the underlying connection alive by consuming the
     entity content while the latter immediately shuts down and discards the connection.
 </pre>
 With Apache Client before 4.5.1, it was ok to close the response and the content stream. This is the default for
 Apache Client 4.5 and older.
 <p/>
 For Apache Client 4.5.1+, first the content stream and the response is should be closed.
 <p/>
 In the case of Chunk content stream, the stream is not closed on the server side, and the client can hung on reading
 the closing chunk. Using the <a href="../../client/ClientProperties.html#READ_TIMEOUT"><code>ClientProperties.READ_TIMEOUT</code></a> property can prevent
 this hanging forever and the reading of the closing chunk is terminated when the time is out. The other option, when
 the timeout is not set, is to abort the Apache client request. This is the default for Apache Client 4.5.1+ when the
 read timeout is not set.
 <p/>
 Another option is not to close the content stream, which is possible by the Apache client documentation. In this case,
 however, the server side may not be notified and would not not close its chunk stream.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ApacheConnectionClosingStrategy.GracefulClosingStrategy.html" class="type-name-link" title="class in org.glassfish.jersey.apache.connector">ApacheConnectionClosingStrategy.GracefulClosingStrategy</a></code></div>
<div class="col-last even-row-color">
<div class="block">Strategy that aborts Apache HttpRequests for the case of Chunked Stream, closes the stream, and response next.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="ApacheConnectionClosingStrategy.ImmediateClosingStrategy.html" class="type-name-link" title="class in org.glassfish.jersey.apache.connector">ApacheConnectionClosingStrategy.ImmediateClosingStrategy</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Strategy that closes the response and content stream next.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close(org.glassfish.jersey.client.ClientRequest,org.apache.http.client.methods.HttpUriRequest,org.apache.http.client.methods.CloseableHttpResponse,java.io.InputStream)" class="member-name-link">close</a><wbr>(<a href="../../client/ClientRequest.html" title="class in org.glassfish.jersey.client">ClientRequest</a>&nbsp;clientRequest,
 org.apache.http.client.methods.HttpUriRequest&nbsp;request,
 org.apache.http.client.methods.CloseableHttpResponse&nbsp;response,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;stream)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Method to close the connection.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="close(org.glassfish.jersey.client.ClientRequest,org.apache.http.client.methods.HttpUriRequest,org.apache.http.client.methods.CloseableHttpResponse,java.io.InputStream)">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span><wbr><span class="parameters">(<a href="../../client/ClientRequest.html" title="class in org.glassfish.jersey.client">ClientRequest</a>&nbsp;clientRequest,
 org.apache.http.client.methods.HttpUriRequest&nbsp;request,
 org.apache.http.client.methods.CloseableHttpResponse&nbsp;response,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;stream)</span>
    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Method to close the connection.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clientRequest</code> - The <a href="../../client/ClientRequest.html" title="class in org.glassfish.jersey.client"><code>ClientRequest</code></a> to get <a href="../../client/ClientRequest.html#getConfiguration()"><code>configuration</code></a>,
                      and <a href="../../client/ClientRequest.html#resolveProperty(java.lang.String,java.lang.Class)"><code>resolve properties</code></a>.</dd>
<dd><code>request</code> - Apache <code>HttpUriRequest</code> that can be <code>abort</code>ed.</dd>
<dd><code>response</code> - Apache <code>CloseableHttpResponse</code> that can be <code>close</code>d.</dd>
<dd><code>stream</code> - The entity stream that can be <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#close()" title="class or interface in java.io" class="external-link"><code>closed</code></a>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - In case of some of the closing methods throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link"><code>IOException</code></a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007-2022,                                 <a href="http://www.oracle.com">Oracle</a>                                 and/or its affiliates.                                 All Rights Reserved. Use is subject to license terms.</small></p>
</footer>
</div>
</div>
</body>
</html>
