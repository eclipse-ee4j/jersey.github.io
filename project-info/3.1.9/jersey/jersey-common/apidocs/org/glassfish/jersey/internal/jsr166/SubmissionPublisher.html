<!DOCTYPE HTML>
<!-- NewPage -->
<html lang>
<head>
<!-- Generated by javadoc -->
<title>SubmissionPublisher (Jersey 3.1.9 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SubmissionPublisher (Jersey 3.1.9 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SubmissionPublisher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.glassfish.jersey.internal.jsr166</a></div>
<h2 title="Class SubmissionPublisher" class="title">Class SubmissionPublisher&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.glassfish.jersey.internal.jsr166.SubmissionPublisher&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the published item type</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code>, <code><a href="Flow.Publisher.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Publisher</a>&lt;T&gt;</code>, <code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;T&gt;</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">SubmissionPublisher&lt;T&gt;</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;T&gt;</pre>
<div class="block">A <a href="Flow.Publisher.html" title="interface in org.glassfish.jersey.internal.jsr166"><code>Flow.Publisher</code></a> that asynchronously issues submitted
 (non-null) items to current subscribers until it is closed.  Each
 current subscriber receives newly submitted items in the same order
 unless drops or exceptions are encountered.  Using a
 SubmissionPublisher allows item generators to act as compliant <a href="http://www.reactive-streams.org/"> reactive-streams</a>
 Publishers relying on drop handling and/or blocking for flow
 control.
 <p>
 <p>A SubmissionPublisher uses the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executor.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>Executor</code></a> supplied in its
 constructor for delivery to subscribers. The best choice of
 Executor depends on expected usage. If the generator(s) of
 submitted items run in separate threads, and the number of
 subscribers can be estimated, consider using a <code>Executors#newFixedThreadPool</code>. Otherwise consider using the
 default, normally the <code>ForkJoinPool#commonPool</code>.
 <p>
 <p>Buffering allows producers and consumers to transiently operate
 at different rates.  Each subscriber uses an independent buffer.
 Buffers are created upon first use and expanded as needed up to the
 given maximum. (The enforced capacity may be rounded up to the
 nearest power of two and/or bounded by the largest value supported
 by this implementation.)  Invocations of <a href="Flow.Subscription.html#request(long)"><code>request</code></a> do not directly result in
 buffer expansion, but risk saturation if unfilled requests exceed
 the maximum capacity.  The default value of <a href="Flow.html#defaultBufferSize()"><code>Flow.defaultBufferSize()</code></a> may provide a useful starting point for
 choosing a capacity based on expected rates, resources, and usages.
 <p>
 <p>Publication methods support different policies about what to do
 when buffers are saturated. Method <a href="#submit(T)"><code>submit</code></a>
 blocks until resources are available. This is simplest, but least
 responsive.  The <code>offer</code> methods may drop items (either
 immediately or with bounded timeout), but provide an opportunity to
 interpose a handler and then retry.
 <p>
 <p>If any Subscriber method throws an exception, its subscription
 is cancelled.  If a handler is supplied as a constructor argument,
 it is invoked before cancellation upon an exception in method
 <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a>, but exceptions in methods
 <a href="Flow.Subscriber.html#onSubscribe(org.glassfish.jersey.internal.jsr166.Flow.Subscription)"><code>onSubscribe</code></a>,
 <a href="Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> and
 <a href="Flow.Subscriber.html#onComplete()"><code>onComplete</code></a> are not recorded or
 handled before cancellation.  If the supplied Executor throws
 <code>RejectedExecutionException</code> (or any other RuntimeException
 or Error) when attempting to execute a task, or a drop handler
 throws an exception when processing a dropped item, then the
 exception is rethrown. In these cases, not all subscribers will
 have been issued the published item. It is usually good practice to
 <a href="#closeExceptionally(java.lang.Throwable)"><code>closeExceptionally</code></a> in these cases.
 <p>
 <p>Method <a href="#consume(java.util.function.Consumer)"><code>consume(Consumer)</code></a> simplifies support for a
 common case in which the only action of a subscriber is to request
 and process all items using a supplied function.
 <p>
 <p>This class may also serve as a convenient base for subclasses
 that generate items, and use the methods in this class to publish
 them.  For example here is a class that periodically publishes the
 items generated from a supplier. (In practice you might add methods
 to independently start and stop generation, to share Executors
 among publishers, and so on, or use a SubmissionPublisher as a
 component rather than a superclass.)
 <p>
 <pre> <code>
 class PeriodicPublisher&lt;T&gt; extends SubmissionPublisher&lt;T&gt; {
   final ScheduledFuture&lt;?&gt; periodicTask;
   final ScheduledExecutorService scheduler;
   PeriodicPublisher(Executor executor, int maxBufferCapacity,
                     Supplier&lt;? extends T&gt; supplier,
                     long period, TimeUnit unit) {
     super(executor, maxBufferCapacity);
     scheduler = new ScheduledThreadPoolExecutor(1);
     periodicTask = scheduler.scheduleAtFixedRate(
       () -&gt; submit(supplier.get()), 0, period, unit);
   }
   public void close() {
     periodicTask.cancel(false);
     scheduler.shutdown();
     super.close();
   }
 }</code></pre>
 <p>
 <p>Here is an example of a <a href="Flow.Processor.html" title="interface in org.glassfish.jersey.internal.jsr166"><code>Flow.Processor</code></a> implementation.
 It uses single-step requests to its publisher for simplicity of
 illustration. A more adaptive version could monitor flow using the
 lag estimate returned from <code>submit</code>, along with other utility
 methods.
 <p>
 <pre> <code>
 class TransformProcessor&lt;S,T&gt; extends SubmissionPublisher&lt;T&gt;
   implements Flow.Processor&lt;S,T&gt; {
   final Function&lt;? super S, ? extends T&gt; function;
   Flow.Subscription subscription;
   TransformProcessor(Executor executor, int maxBufferCapacity,
                      Function&lt;? super S, ? extends T&gt; function) {
     super(executor, maxBufferCapacity);
     this.function = function;
   }
   public void onSubscribe(Flow.Subscription subscription) {
     (this.subscription = subscription).request(1);
   }
   public void onNext(S item) {
     subscription.request(1);
     submit(function.apply(item));
   }
   public void onError(Throwable ex) { closeExceptionally(ex); }
   public void onComplete() { close(); }
 }</code></pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Doug Lea</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">SubmissionPublisher</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a new SubmissionPublisher using the <code>ForkJoinPool#commonPool()</code> for async delivery to subscribers
 (unless it does not support a parallelism level of at least two,
 in which case, a new Thread is created to run each task), with
 maximum buffer capacity of <a href="Flow.html#defaultBufferSize()"><code>Flow.defaultBufferSize()</code></a>, and no
 handler for Subscriber exceptions in method <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.concurrent.Executor,int)">SubmissionPublisher</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executor.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Executor</a>&nbsp;executor,
                   int&nbsp;maxBufferCapacity)</code></th>
<td class="colLast">
<div class="block">Creates a new SubmissionPublisher using the given Executor for
 async delivery to subscribers, with the given maximum buffer size
 for each subscriber, and no handler for Subscriber exceptions in
 method <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.concurrent.Executor,int,java.util.function.BiConsumer)">SubmissionPublisher</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executor.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Executor</a>&nbsp;executor,
                   int&nbsp;maxBufferCapacity,
                   <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiConsumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiConsumer</a>&lt;? super <a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;,&#8203;? super <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&gt;&nbsp;handler)</code></th>
<td class="colLast">
<div class="block">Creates a new SubmissionPublisher using the given Executor for
 async delivery to subscribers, with the given maximum buffer size
 for each subscriber, and, if non-null, the given handler invoked
 when any Subscriber throws an exception in method <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Unless already closed, issues <a href="Flow.Subscriber.html#onComplete()"><code>onComplete</code></a> signals to current
 subscribers, and disallows subsequent attempts to publish.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#closeExceptionally(java.lang.Throwable)">closeExceptionally</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;error)</code></th>
<td class="colLast">
<div class="block">Unless already closed, issues <a href="Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> signals to current
 subscribers with the given error, and disallows subsequent
 attempts to publish.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#consume(java.util.function.Consumer)">consume</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Consumer</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;consumer)</code></th>
<td class="colLast">
<div class="block">Processes all published items using the given Consumer function.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateMaximumLag()">estimateMaximumLag</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns an estimate of the maximum number of items produced but
 not yet consumed among all current subscribers.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateMinimumDemand()">estimateMinimumDemand</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns an estimate of the minimum number of items requested
 (via <a href="Flow.Subscription.html#request(long)"><code>request</code></a>) but not
 yet produced, among all current subscribers.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClosedException()">getClosedException</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the exception associated with <a href="SubmittableFlowPublisher.html#closeExceptionally(java.lang.Throwable)"><code>closeExceptionally</code></a>, or null if
 not closed or if closed normally.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaxBufferCapacity()">getMaxBufferCapacity</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the maximum per-subscriber buffer capacity.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#offer(T,long,java.util.concurrent.TimeUnit,java.util.function.BiPredicate)">offer</a></span>&#8203;(<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&nbsp;item,
     long&nbsp;timeout,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiPredicate.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiPredicate</a>&lt;<a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;,&#8203;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;onDrop)</code></th>
<td class="colLast">
<div class="block">Publishes the given item, if possible, to each current subscriber
 by asynchronously invoking its <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a> method, blocking while
 resources for any subscription are unavailable, up to the
 specified timeout or until the caller thread is interrupted, at
 which point the given handler (if non-null) is invoked, and if it
 returns true, retried once.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#offer(T,java.util.function.BiPredicate)">offer</a></span>&#8203;(<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&nbsp;item,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiPredicate.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiPredicate</a>&lt;<a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;,&#8203;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;onDrop)</code></th>
<td class="colLast">
<div class="block">Publishes the given item, if possible, to each current subscriber
 by asynchronously invoking its <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a> method.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#submit(T)">submit</a></span>&#8203;(<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&nbsp;item)</code></th>
<td class="colLast">
<div class="block">Publishes the given item to each current subscriber by
 asynchronously invoking its <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a> method, blocking uninterruptibly while resources for any
 subscriber are unavailable.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(org.glassfish.jersey.internal.jsr166.Flow.Subscriber)">subscribe</a></span>&#8203;(<a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;subscriber)</code></th>
<td class="colLast">
<div class="block">Adds the given Subscriber unless already subscribed.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.util.concurrent.Executor,int,java.util.function.BiConsumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SubmissionPublisher</h4>
<pre>public&nbsp;SubmissionPublisher&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executor.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Executor</a>&nbsp;executor,
                           int&nbsp;maxBufferCapacity,
                           <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiConsumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiConsumer</a>&lt;? super <a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;,&#8203;? super <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&gt;&nbsp;handler)</pre>
<div class="block">Creates a new SubmissionPublisher using the given Executor for
 async delivery to subscribers, with the given maximum buffer size
 for each subscriber, and, if non-null, the given handler invoked
 when any Subscriber throws an exception in method <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executor</code> - the executor to use for async delivery,
                          supporting creation of at least one independent thread</dd>
<dd><code>maxBufferCapacity</code> - the maximum capacity for each
                          subscriber's buffer (the enforced capacity may be rounded up to
                          the nearest power of two and/or bounded by the largest value
                          supported by this implementation; method <a href="#getMaxBufferCapacity()"><code>getMaxBufferCapacity()</code></a>
                          returns the actual value)</dd>
<dd><code>handler</code> - if non-null, procedure to invoke upon exception
                          thrown in method <code>onNext</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang" class="externalLink">NullPointerException</a></code> - if executor is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if maxBufferCapacity not
                                  positive</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.util.concurrent.Executor,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SubmissionPublisher</h4>
<pre>public&nbsp;SubmissionPublisher&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executor.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Executor</a>&nbsp;executor,
                           int&nbsp;maxBufferCapacity)</pre>
<div class="block">Creates a new SubmissionPublisher using the given Executor for
 async delivery to subscribers, with the given maximum buffer size
 for each subscriber, and no handler for Subscriber exceptions in
 method <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executor</code> - the executor to use for async delivery,
                          supporting creation of at least one independent thread</dd>
<dd><code>maxBufferCapacity</code> - the maximum capacity for each
                          subscriber's buffer (the enforced capacity may be rounded up to
                          the nearest power of two and/or bounded by the largest value
                          supported by this implementation; method <a href="#getMaxBufferCapacity()"><code>getMaxBufferCapacity()</code></a>
                          returns the actual value)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang" class="externalLink">NullPointerException</a></code> - if executor is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if maxBufferCapacity not
                                  positive</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SubmissionPublisher</h4>
<pre>public&nbsp;SubmissionPublisher()</pre>
<div class="block">Creates a new SubmissionPublisher using the <code>ForkJoinPool#commonPool()</code> for async delivery to subscribers
 (unless it does not support a parallelism level of at least two,
 in which case, a new Thread is created to run each task), with
 maximum buffer capacity of <a href="Flow.html#defaultBufferSize()"><code>Flow.defaultBufferSize()</code></a>, and no
 handler for Subscriber exceptions in method <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a>.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="consume(java.util.function.Consumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consume</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;consume&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Consumer</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;consumer)</pre>
<div class="block">Processes all published items using the given Consumer function.
 Returns a CompletableFuture that is completed normally when this
 publisher signals <a href="Flow.Subscriber.html#onComplete()"><code>onComplete</code></a>, or completed exceptionally upon any error, or an
 exception is thrown by the Consumer, or the returned
 CompletableFuture is cancelled, in which case no further items
 are processed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#consume(java.util.function.Consumer)">consume</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - the function applied to each onNext item</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a CompletableFuture that is completed normally
 when the publisher signals onComplete, and exceptionally
 upon any error or cancellation</dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()</pre>
<div class="block">Unless already closed, issues <a href="Flow.Subscriber.html#onComplete()"><code>onComplete</code></a> signals to current
 subscribers, and disallows subsequent attempts to publish.
 Upon return, this method does <em>NOT</em> guarantee that all
 subscribers have yet completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang" class="externalLink">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a id="closeExceptionally(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeExceptionally</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;closeExceptionally&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;error)</pre>
<div class="block">Unless already closed, issues <a href="Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> signals to current
 subscribers with the given error, and disallows subsequent
 attempts to publish.  Future subscribers also receive the given
 error. Upon return, this method does <em>NOT</em> guarantee
 that all subscribers have yet completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#closeExceptionally(java.lang.Throwable)">closeExceptionally</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>error</code> - the <code>onError</code> argument sent to subscribers</dd>
</dl>
</li>
</ul>
<a id="estimateMinimumDemand()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateMinimumDemand</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;estimateMinimumDemand()</pre>
<div class="block">Returns an estimate of the minimum number of items requested
 (via <a href="Flow.Subscription.html#request(long)"><code>request</code></a>) but not
 yet produced, among all current subscribers.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#estimateMinimumDemand()">estimateMinimumDemand</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimate, or zero if no subscribers</dd>
</dl>
</li>
</ul>
<a id="estimateMaximumLag()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateMaximumLag</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;estimateMaximumLag()</pre>
<div class="block">Returns an estimate of the maximum number of items produced but
 not yet consumed among all current subscribers.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#estimateMaximumLag()">estimateMaximumLag</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimate</dd>
</dl>
</li>
</ul>
<a id="getClosedException()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClosedException</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;getClosedException()</pre>
<div class="block">Returns the exception associated with <a href="SubmittableFlowPublisher.html#closeExceptionally(java.lang.Throwable)"><code>closeExceptionally</code></a>, or null if
 not closed or if closed normally.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#getClosedException()">getClosedException</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the exception, or null if none</dd>
</dl>
</li>
</ul>
<a id="getMaxBufferCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxBufferCapacity</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getMaxBufferCapacity()</pre>
<div class="block">Returns the maximum per-subscriber buffer capacity.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#getMaxBufferCapacity()">getMaxBufferCapacity</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum per-subscriber buffer capacity</dd>
</dl>
</li>
</ul>
<a id="offer(java.lang.Object,long,java.util.concurrent.TimeUnit,java.util.function.BiPredicate)">
<!--   -->
</a><a id="offer(T,long,java.util.concurrent.TimeUnit,java.util.function.BiPredicate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offer</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;offer&#8203;(<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&nbsp;item,
                 long&nbsp;timeout,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiPredicate.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiPredicate</a>&lt;<a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;,&#8203;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;onDrop)</pre>
<div class="block">Publishes the given item, if possible, to each current subscriber
 by asynchronously invoking its <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a> method, blocking while
 resources for any subscription are unavailable, up to the
 specified timeout or until the caller thread is interrupted, at
 which point the given handler (if non-null) is invoked, and if it
 returns true, retried once. (The drop handler may distinguish
 timeouts from interrupts by checking whether the current thread
 is interrupted.)  Other calls to methods in this class by other
 threads are blocked while the handler is invoked.  Unless
 recovery is assured, options are usually limited to logging the
 error and/or issuing an <a href="Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> signal to the subscriber.
 <p>
 <p>This method returns a status indicator: If negative, it
 represents the (negative) number of drops (failed attempts to
 issue the item to a subscriber). Otherwise it is an estimate of
 the maximum lag (number of items submitted but not yet
 consumed) among all current subscribers. This value is at least
 one (accounting for this submitted item) if there are any
 subscribers, else zero.
 <p>
 <p>If the Executor for this publisher throws a
 RejectedExecutionException (or any other RuntimeException or
 Error) when attempting to asynchronously notify subscribers, or
 the drop handler throws an exception when processing a dropped
 item, then this exception is rethrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#offer(T,long,java.util.concurrent.TimeUnit,java.util.function.BiPredicate)">offer</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the (non-null) item to publish</dd>
<dd><code>timeout</code> - how long to wait for resources for any subscriber
                before giving up, in units of <code>unit</code></dd>
<dd><code>unit</code> - a <code>TimeUnit</code> determining how to interpret the
                <code>timeout</code> parameter</dd>
<dd><code>onDrop</code> - if non-null, the handler invoked upon a drop to a
                subscriber, with arguments of the subscriber and item; if it
                returns true, an offer is re-attempted (once)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if negative, the (negative) number of drops; otherwise
 an estimate of maximum lag</dd>
</dl>
</li>
</ul>
<a id="offer(java.lang.Object,java.util.function.BiPredicate)">
<!--   -->
</a><a id="offer(T,java.util.function.BiPredicate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offer</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;offer&#8203;(<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&nbsp;item,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiPredicate.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiPredicate</a>&lt;<a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;,&#8203;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;onDrop)</pre>
<div class="block">Publishes the given item, if possible, to each current subscriber
 by asynchronously invoking its <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a> method. The item may be
 dropped by one or more subscribers if resource limits are
 exceeded, in which case the given handler (if non-null) is
 invoked, and if it returns true, retried once.  Other calls to
 methods in this class by other threads are blocked while the
 handler is invoked.  Unless recovery is assured, options are
 usually limited to logging the error and/or issuing an <a href="Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> signal to the
 subscriber.
 <p>
 <p>This method returns a status indicator: If negative, it
 represents the (negative) number of drops (failed attempts to
 issue the item to a subscriber). Otherwise it is an estimate of
 the maximum lag (number of items submitted but not yet
 consumed) among all current subscribers. This value is at least
 one (accounting for this submitted item) if there are any
 subscribers, else zero.
 <p>
 <p>If the Executor for this publisher throws a
 RejectedExecutionException (or any other RuntimeException or
 Error) when attempting to asynchronously notify subscribers, or
 the drop handler throws an exception when processing a dropped
 item, then this exception is rethrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#offer(T,java.util.function.BiPredicate)">offer</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the (non-null) item to publish</dd>
<dd><code>onDrop</code> - if non-null, the handler invoked upon a drop to a
               subscriber, with arguments of the subscriber and item; if it
               returns true, an offer is re-attempted (once)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if negative, the (negative) number of drops; otherwise
 an estimate of maximum lag</dd>
</dl>
</li>
</ul>
<a id="submit(java.lang.Object)">
<!--   -->
</a><a id="submit(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;submit&#8203;(<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&nbsp;item)</pre>
<div class="block">Publishes the given item to each current subscriber by
 asynchronously invoking its <a href="Flow.Subscriber.html#onNext(T)"><code>onNext</code></a> method, blocking uninterruptibly while resources for any
 subscriber are unavailable. This method returns an estimate of
 the maximum lag (number of items submitted but not yet consumed)
 among all current subscribers. This value is at least one
 (accounting for this submitted item) if there are any
 subscribers, else zero.
 <p>
 <p>If the Executor for this publisher throws a
 RejectedExecutionException (or any other RuntimeException or
 Error) when attempting to asynchronously notify subscribers,
 then this exception is rethrown, in which case not all
 subscribers will have been issued this item.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#submit(T)">submit</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the (non-null) item to publish</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated maximum lag among subscribers</dd>
</dl>
</li>
</ul>
<a id="subscribe(org.glassfish.jersey.internal.jsr166.Flow.Subscriber)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;subscribe&#8203;(<a href="Flow.Subscriber.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Subscriber</a>&lt;? super <a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;&nbsp;subscriber)</pre>
<div class="block">Adds the given Subscriber unless already subscribed.  If already
 subscribed, the Subscriber's <a href="Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> method is invoked on
 the existing subscription with an <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>IllegalStateException</code></a>.
 Otherwise, upon success, the Subscriber's <a href="Flow.Subscriber.html#onSubscribe(org.glassfish.jersey.internal.jsr166.Flow.Subscription)"><code>onSubscribe</code></a> method is invoked
 asynchronously with a new <a href="Flow.Subscription.html" title="interface in org.glassfish.jersey.internal.jsr166"><code>Flow.Subscription</code></a>.  If <a href="Flow.Subscriber.html#onSubscribe(org.glassfish.jersey.internal.jsr166.Flow.Subscription)"><code>onSubscribe</code></a> throws an exception, the
 subscription is cancelled. Otherwise, if this SubmittableFlowPublisher
 was closed exceptionally, then the subscriber's <a href="Flow.Subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> method is invoked with the
 corresponding exception, or if closed without exception, the
 subscriber's <a href="Flow.Subscriber.html#onComplete()"><code>onComplete</code></a>
 method is invoked.  Subscribers may enable receiving items by
 invoking the <a href="Flow.Subscription.html#request(long)"><code>request</code></a>
 method of the new Subscription, and may unsubscribe by invoking
 its <a href="Flow.Subscription.html#cancel()"><code>cancel</code></a> method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Flow.Publisher.html#subscribe(org.glassfish.jersey.internal.jsr166.Flow.Subscriber)">subscribe</a></code>&nbsp;in interface&nbsp;<code><a href="Flow.Publisher.html" title="interface in org.glassfish.jersey.internal.jsr166">Flow.Publisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SubmittableFlowPublisher.html#subscribe(org.glassfish.jersey.internal.jsr166.Flow.Subscriber)">subscribe</a></code>&nbsp;in interface&nbsp;<code><a href="SubmittableFlowPublisher.html" title="interface in org.glassfish.jersey.internal.jsr166">SubmittableFlowPublisher</a>&lt;<a href="SubmissionPublisher.html" title="type parameter in SubmissionPublisher">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subscriber</code> - the subscriber</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SubmissionPublisher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2007-2024,                                 <a href="http://www.oracle.com">Oracle</a>                                 and/or its affiliates.                                 All Rights Reserved. Use is subject to license terms.</small></p>
</footer>
</body>
</html>
